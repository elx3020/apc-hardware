import { Fragment, useEffect, useRef } from "react";

import React from "react";

import stars from "../../../images/svg/stars.svg";
function RatingElement(props) {
  const { rating, numberRatings, maxValue, backgroundColor } = props;

  const size = { width: 115, height: 120 };

  const starsSVG = (
    <svg
      width="100%"
      height="100%"
      viewBox={`0 0 ${size.height} 30`}
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M0 0H120V25.0292H0V0ZM109.293 9.95302L106.667 1.87135L104.041 9.95302H95.5436L102.418 14.9478L99.7924 23.0294L106.667 18.0347L113.542 23.0294L110.916 14.9478L117.791 9.95302H109.293ZM13.0996 1.87135L15.7255 9.95302H24.2231L17.3484 14.9478L19.9743 23.0294L13.0996 18.0347L6.22493 23.0294L8.85082 14.9478L1.97614 9.95302H10.4737L13.0996 1.87135ZM39.1171 9.95302L36.4913 1.87135L33.8654 9.95302H25.3678L32.2425 14.9478L29.6166 23.0294L36.4913 18.0347L43.3659 23.0294L40.74 14.9478L47.6147 9.95302H39.1171ZM59.8829 1.87135L62.5088 9.95302H71.0064L64.1317 14.9478L66.7576 23.0294L59.8829 18.0347L53.0082 23.0294L55.6341 14.9478L48.7594 9.95302H57.257L59.8829 1.87135ZM85.9013 9.95302L83.2754 1.87135L80.6495 9.95302H72.1519L79.0266 14.9478L76.4007 23.0294L83.2754 18.0347L90.1501 23.0294L87.5242 14.9478L94.3989 9.95302H85.9013Z"
        fill={backgroundColor}
      />
      <path
        d="M13.3374 2.028C13.304 1.925 13.208 1.85526 13.0997 1.85526C12.9914 1.85526 12.8954 1.925 12.8619 2.028L10.3447 9.77529H2.19868C2.09038 9.77529 1.99439 9.84503 1.96092 9.94804C1.92745 10.051 1.96412 10.1639 2.05174 10.2275L8.64198 15.0156L6.12473 22.7629C6.09126 22.8659 6.12793 22.9788 6.21555 23.0424C6.30317 23.1061 6.42182 23.1061 6.50944 23.0424L13.0997 18.2543L19.6899 23.0424C19.7775 23.1061 19.8962 23.1061 19.9838 23.0424C20.0714 22.9788 20.1081 22.8659 20.0746 22.7629L17.5574 15.0156L24.1476 10.2275C24.2353 10.1639 24.2719 10.051 24.2384 9.94804C24.205 9.84503 24.109 9.77529 24.0007 9.77529H15.8547L13.3374 2.028Z"
        stroke="#C5C5C5"
        strokeWidth="0.5"
        strokeLinejoin="round"
      />
      <path
        d="M36.729 2.028C36.6956 1.925 36.5996 1.85526 36.4913 1.85526C36.383 1.85526 36.287 1.925 36.2535 2.028L33.7363 9.77529H25.5903C25.482 9.77529 25.386 9.84503 25.3525 9.94804C25.3191 10.051 25.3557 10.1639 25.4433 10.2275L32.0336 15.0156L29.5163 22.7629C29.4829 22.8659 29.5195 22.9788 29.6072 23.0424C29.6948 23.1061 29.8134 23.1061 29.901 23.0424L36.4913 18.2543L43.0815 23.0424C43.1691 23.1061 43.2878 23.1061 43.3754 23.0424C43.463 22.9788 43.4997 22.8659 43.4662 22.7629L40.949 15.0156L47.5392 10.2275C47.6269 10.1639 47.6635 10.051 47.63 9.94804C47.5966 9.84503 47.5006 9.77529 47.3923 9.77529H39.2463L36.729 2.028Z"
        stroke="#C5C5C5"
        strokeWidth="0.5"
        strokeLinejoin="round"
      />
      <path
        d="M60.1207 2.028C60.0872 1.925 59.9912 1.85526 59.8829 1.85526C59.7746 1.85526 59.6786 1.925 59.6451 2.028L57.1279 9.77529H48.9819C48.8736 9.77529 48.7776 9.84503 48.7441 9.94804C48.7107 10.051 48.7473 10.1639 48.8349 10.2275L55.4252 15.0156L52.9079 22.7629C52.8745 22.8659 52.9111 22.9788 52.9988 23.0424C53.0864 23.1061 53.205 23.1061 53.2926 23.0424L59.8829 18.2543L66.4731 23.0424C66.5608 23.1061 66.6794 23.1061 66.767 23.0424C66.8546 22.9788 66.8913 22.8659 66.8578 22.7629L64.3406 15.0156L70.9308 10.2275C71.0185 10.1639 71.0551 10.051 71.0217 9.94804C70.9882 9.84503 70.8922 9.77529 70.7839 9.77529H62.6379L60.1207 2.028Z"
        stroke="#C5C5C5"
        strokeWidth="0.5"
        strokeLinejoin="round"
      />
      <path
        d="M83.5132 2.028C83.4798 1.925 83.3838 1.85526 83.2755 1.85526C83.1672 1.85526 83.0712 1.925 83.0377 2.028L80.5205 9.77529H72.3745C72.2662 9.77529 72.1702 9.84503 72.1367 9.94804C72.1032 10.051 72.1399 10.1639 72.2275 10.2275L78.8178 15.0156L76.3005 22.7629C76.267 22.8659 76.3037 22.9788 76.3913 23.0424C76.479 23.1061 76.5976 23.1061 76.6852 23.0424L83.2755 18.2543L89.8657 23.0424C89.9533 23.1061 90.072 23.1061 90.1596 23.0424C90.2472 22.9788 90.2839 22.8659 90.2504 22.7629L87.7332 15.0156L94.3234 10.2275C94.411 10.1639 94.4477 10.051 94.4142 9.94804C94.3808 9.84503 94.2848 9.77529 94.1765 9.77529H86.0305L83.5132 2.028Z"
        stroke="#C5C5C5"
        strokeWidth="0.5"
        strokeLinejoin="round"
      />
      <path
        d="M106.905 2.028C106.871 1.925 106.775 1.85526 106.667 1.85526C106.559 1.85526 106.463 1.925 106.429 2.028L103.912 9.77529H95.7661C95.6578 9.77529 95.5618 9.84503 95.5283 9.94804C95.4948 10.051 95.5315 10.1639 95.6191 10.2275L102.209 15.0156L99.6921 22.7629C99.6586 22.8659 99.6953 22.9788 99.7829 23.0424C99.8706 23.1061 99.9892 23.1061 100.077 23.0424L106.667 18.2543L113.257 23.0424C113.345 23.1061 113.464 23.1061 113.551 23.0424C113.639 22.9788 113.675 22.8659 113.642 22.7629L111.125 15.0156L117.715 10.2275C117.803 10.1639 117.839 10.051 117.806 9.94804C117.772 9.84503 117.676 9.77529 117.568 9.77529H109.422L106.905 2.028Z"
        stroke="#C5C5C5"
        strokeWidth="0.5"
        strokeLinejoin="round"
      />
    </svg>
  );

  //   useEffect(() => {
  //     handleRenderRating(rating);
  //   }, [numberRatings]);

  return (
    <div className="flex-rating">
      <div className="rating-container" style={{ width: `${size.width}px` }}>
        <div
          className="star-bar"
          id="rating-bar"
          style={{ width: `${(rating / maxValue) * size.width}px` }}
        ></div>
        {starsSVG}
      </div>
      <div>{numberRatings}</div>
    </div>
  );
}

export default RatingElement;
